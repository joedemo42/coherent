CCOOHHEERREENNTT -- Summary

Principles of the COHERENT System

This article describes COHERENT: its features, properties, and what sets it
apart from other  operating systems.  It also gives tips  on how to port an
application to COHERENT, and describes how to un-install COHERENT from your
system.   For information  on how  COHERENT compares  with MS-DOS,  see the
Lexicon article on MMSS-DDOOSS.

_W_h_a_t _I_s _C_O_H_E_R_E_N_T?
COHERENT is  a multiuser,  multitasking operating system.   _M_u_l_t_i_u_s_e_r means
that with COHERENT, more than one person can use your computer at any given
time.  _M_u_l_t_i_t_a_s_k_i_n_g  means that with  COHERENT, any user can  run more than
one  program at  any given  time.   The design  of COHERENT  employs a  few
elegant concepts to give you a powerful and flexible system that is easy to
use.

_W_h_a_t _i_s _a_n _O_p_e_r_a_t_i_n_g _S_y_s_t_e_m?
An _o_p_e_r_a_t_i_n_g  _s_y_s_t_e_m is the  master program that controls  the operation of
all  other  programs.   It  loads  programs  into  memory,  controls  their
execution, and  controls a program's access to  peripheral devices, such as
printers, modems, and terminals.

Some operating systems permit only one  user to use the computer at a time;
and that  user can run only  one program at a time.   However, you may well
want your  computer to support more  than one user at a  time, and run more
than one program  at a time.  Sharing not only  yields many economies (such
as allowing  a group of  users to share  one printer), but  also allows the
users to communicate with each other and so work together more efficiently.

Any multitasking  operating system must  be able to do  the following tasks
efficiently:

-> Schedule computer time

-> Control mass-storage devices (disks and tape drives)

-> Organize disk-storage space

-> Protect programs from conflict

-> Protect stored information from destruction

-> Ease cooperation among users

Today's operating systems also  provide _t_o_o_l_s.  These are programs that are
bundled with  the operating system,  and that are  designed to help  you do
your  work more  efficiently.  For  example,  you need  editors, compilers,
debuggers, and  assemblers to develop  and test programs.   Text formatters
and spelling checkers help you write memoranda, manuals, or books.  Command
processors (also  called _s_h_e_l_l_s) help you run  the computer easily.  Status
checkers tell you what programs are being run, who is using the system, and
how much space is left on your disk.

The combination  of operating system  and its tools transforms  a boxful of
wires and circuits into a useful machine.

_C_O_H_E_R_E_N_T _D_o_c_u_m_e_n_t_a_t_i_o_n
This  manual is  designed  to walk  you  through the  COHERENT system.   It
consists of two parts: _t_u_t_o_r_i_a_l_s and _L_e_x_i_c_o_n.

Each tutorial  introduces a  particular aspect of  COHERENT.  If you  are a
beginner,  you  should  read  the  tutorials  _U_s_i_n_g  _t_h_e  _C_O_H_E_R_E_N_T  _S_y_s_t_e_m,
_I_n_t_r_o_d_u_c_t_i_n_gsh,_t_h_eBourne_S_h_e_l_l , and  _I_n_t_r_o_d_u_c_t_i_o_n _t_o _M_i_c_r_o_E_M_A_C_S. These will
give you  the basic information and  basic skills you need  to run COHERENT
efficiently.  A beginner who is interested in learning about the C language
should look at the tutorial _T_h_e _C _L_a_n_g_u_a_g_e.

The tutorial _T_h_e _m_a_k_e _P_r_o_g_r_a_m_m_i_n_g _D_i_s_c_i_p_l_i_n_e introduces the tool mmaakkee. This
tool is essential to building any  complex tool under COHERENT.  If you are
going  to  be  building tools  under  COHERENT,  you  should  look at  this
tutorial.

The  tutorial _U_U_C_P,  _R_e_m_o_t_e _C_o_m_m_u_n_i_c_a_t_i_o_n_s  _U_t_i_l_i_t_y introduces  UUCP.  This
bundle of  programs lets your  computer exchange mail and  files with other
computers,  even  if  it is  unattended.   If  you  are  all interested  in
networking with other computers (or plugging into the Internet), you should
look at this tutorial.

The other tutorials introduce tools that are interest to advanced users.

The Lexicon  fills the latter  two thirds of  this manual.  It  consists of
more than 1,000 articles.   The articles are printed in alphabetical order,
to make it easy for you to find the one you want.

Most  articles  discuss  a single  aspect  of  the  COHERENT system.   Some
articles,  called ``overview''  articles, give a  broader discussion  of an
entire topic.  Three overview articles are of particular interest:

UUssiinngg CCOOHHEERREENNTT
     This article  discusses the parts of COHERENT that  are of interest to
     an ordinary user.  It describes such matters as the commands available
     with COHERENT, and how a user can manage his own account.

PPrrooggrraammmmiinngg CCOOHHEERREENNTT
     This introduces the programming tools available under COHERENT; points
     to where you can find information about the COHERENT implementation of
     the  C  programming  language;  and  points  to  where  you  can  find
     information about  the library routines and system  calls that you can
     use in a program.

AAddmmiinniisstteerriinngg CCOOHHEERREENNTT
     This article discusses how to administer COHERENT.  It points to where
     you can find information  on how to connect peripheral devices; manage
     mail and UUCP; change some of COHERENT's default behaviors; and modify
     and rebuild the COHERENT kernel.   It also points to the articles that
     describe the files with which COHERENT manages itself.

If you  cannot easily find  an article that  gives you the  information you
want, look in the index in  the back of the manual.  There is a good chance
that you will find an entry  there that points to the information you need.
Also, you can use the command  aapprrooppooss to search the on-line version of the
Lexicon for  a key word that  interests you.  For details  on this command,
see its entry in the Lexicon.

_H_o_w _T_o _U_n-_i_n_s_t_a_l_l _C_O_H_E_R_E_N_T
To remove (or ``un-install'') COHERENT from your system, do the following:

11. Log in as the superuser rroooott.

22. Invoke the COHERENT version of ffddiisskk.

33. Choose the  option to change  all logical partitions.   Don't change _a_n_y
   parameters of any MS-DOS partitions.

44. Change _a_l_l COHERENT partitions to type UUnnuusseedd with a size of 0, starting
   and ending at 0.

55. Exit ffddiisskk and update the partition table.

66. Reboot the computer and run the MS-DOS ffddiisskk utility to create a new MS-
   DOS  partition table.   Turn  the unused  space  (formerly the  COHERENT
   partitions) into an MS-DOS EXT partition.  If you already have an MS-DOS
   EXT partition, change its  parameters so that it incorporates the unused
   space.

77. Create one or more logical drives in the MS-DOS EXT partition.

88. Format the new logical drives using the MS-DOS ffoorrmmaatt command.

Repeated  tests with  MS-DOS  have shown  that the  above directions  work.
However, given the many flavors and releases of MS-DOS in circulation, Mark
Williams Company  cannot guarantee  that the  above steps will  always work
with MS-DOS.  If they do not, consult your MS-DOS manual for creating a DOS
partition table and  file system on a new hard  drive.  If that information
is not available, telephone Microsoft Technical Support at (206)454-2030.

_U_n_i_n_s_t_a_l_l_i_n_g _t_h_e _M_a_r_k _W_i_l_l_i_a_m_s _B_o_o_t_s_t_r_a_p
The following describes how  to remove the Mark Williams bootstrap program.
You must do this if you are un-installing COHERENT from your system.

To remove  the Mark  Williams master boot  program, you must  overwrite the
master boot-block on hard drive 0 with another boot program.  Usually, this
is the MS-DOS master boot  program.  Beginning with release 5.0, the MS-DOS
version of ffddiisskk  has the switch /nnbbrr that builds  a new bootstrap program.
All  versions of  the MS-DOS  edition  of ffddiisskk  writes a  new master  boot
program if no valid signature appears at the end of the current contents of
the master-boot block.

If you  have MS-DOS version  5.0 or later,  simply boot MS-DOS  and run the
command:

    fdisk /nbr

If your  version of MS-DOS predates  release 5.0, you must  modify the last
two bytes of the master-boot  block (to remove the magic ``signature'' that
indicates a  valid bootstrap program) then boot MS-DOS  and run its version
of ffddiisskk.

_W_a_r_n_i_n_g: See the note in the  preceeding section about MS-DOS ffddiisskk -- back
up your  hard drive is  backed up before  you try this!   There are several
ways by  which you can invalidate  the signature at the  end of the master-
boot block.   One way is to  copy any sort of  garbage into the master-boot
block.  You can (1) reformat cylinder  0 of your hard drive -- for example,
using  the DDIIAAGGNNOOSSTTIICCSS  menu of  the  AMI BIOS  -- or  (2) use  COHERENT to
overwrite the block, e.g., with the command:

    dd if=/coherent of=/dev/at0x count=1

The master-boot block is the first physical sector of the hard drive, i.e.,
cylinder 0, head 0, sector 1.   (Note that numbering of sectors begins with
one, not  zero.) The MWC  master bootstrap is  part of the  initial program
load, and does not belong to any operating system because it runs before an
operating system is loaded.

_P_l_e_a_s_e _r_e_a_d  _t_h_e _f_o_l_l_o_w_i_n_g _c_a_r_e_f_u_l_l_y  _b_e_f_o_r_e _y_o_u _a_t_t_e_m_p_t  _e_r_a_s_e _t_h_e _m_a_s_t_e_r-
_b_o_o_t _b_l_o_c_k:

Mark Williams  Company can  make no  promises or guarantees  concerning the
behavior of any given version of the MS-DOS ffddiisskk. Every version of the MS-
DOS ffddiisskk  that we have tested does not  recognize partitions allocated for
other  operating  systems:  MS-DOS cannot  delete,  or  even display,  such
partitions.  Certain configurations  of empty partitions cause MS-DOS ffddiisskk
to hang.

Worst of  all, don't  expect _a_n_y  data on your  hard drive to  be available
after MS-DOS  ffddiisskk rewrites an invalid  master-boot block.  Our experience
is that MS-DOS ffddiisskk erases all  data in all partitions, even if previously
existing MS-DOS partitions  are re-allocated with identical cylinder ranges
as at the time of their initial creation.  _C_a_v_e_a_t _u_t_i_l_i_t_o_r!
